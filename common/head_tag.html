<script type="text/discourse-plugin" version="1.1.0">
    api.onPageChange((url) => {
      const router = api.container.lookup('service:router');
      var element = document.getElementById("main-outlet-wrapper");

      if (router.currentRoute.name !== 'discovery.latest') {
        element.classList.add("post");
      } else {
        element.classList.remove("post");
      }
    });
  </script>

<script type="text/x-handlebars" data-template-name="/connectors/topic-above-post-stream/custom-post-page" args=(hash
    model=this.model)>
    <div class="post-detail header">
      {{mount-widget widget="post-avatar" args=(hash user_id=this.user.id avatar_template=this.user.avatar_template username=this.user.username)}}
    </div>
</script>

<!-- <script type="text/x-handlebars" data-template-name="/connectors/topic-above-post-stream/custom-post-page" args=(hash
    model=this.model user_id=model.user.id avatar_template=model.user.avatar_template)>
    <div class="post-detail header">
      {{plugin-outlet "topic-above-post-stream" componentName="post-avatar" user_id=model.user.id avatar_template=model.user.avatar_template}}
    </div>
  </script> -->