<script type="text/discourse-plugin" version="0.8">
    api.registerConnectorClass("below-site-header", "custom-homepage", {

      setupComponent(args, component) {
  
       var topMenuRoutes = 
          component.siteSettings.top_menu.split('|')
          .map(function(route) {return '/' + route});
       
       var homeRoute = topMenuRoutes[0];
    
       api.onPageChange((url) => {
  
          if (url === "/" || url === homeRoute ){ 
            document.querySelector("html").classList.add("custom-homepage"); 
            component.set("displayCustomHomepage", true); 
          } else {  
            document.querySelector("html").classList.remove("custom-homepage"); 
            component.set("displayCustomHomepage", false); 
          }
        });
      }
      
    });
  
  </script>